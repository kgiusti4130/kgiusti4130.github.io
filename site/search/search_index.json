{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#more-will-be-added-here-this-is-just-a-simple-collection","title":"More will be added here, this is just a simple collection.","text":""},{"location":"about/","title":"about","text":"<p>This is just a collection of notes.</p>"},{"location":"arista/","title":"Arista","text":""},{"location":"arista/#scp-push-files-to-arista","title":"SCP push files to Arista","text":"<pre><code>scp EOS-4.30.4M.swi username@10.76.23.11:/mnt/flash/\n</code></pre> Tip <ol> <li>Make sure aaa authorization is set to something like <code>aaa authorization exec default local</code> </li> <li>If you need to use a different vrf you can do something like <code>cli vrf MGMT</code> </li> </ol>"},{"location":"arista/#update-terminattr-on-switch","title":"Update TerminAttr on switch","text":""},{"location":"arista/#push-file-to-switch","title":"Push file to switch","text":"<pre><code>scp TerminAttr-1.19.4-1.swix wandyn@10.0.4.141:/mnt/flash/\n</code></pre>"},{"location":"arista/#install-the-extension","title":"Install the extension","text":"<pre><code>copy flash:TerminAttr-1.19.4-1.swix extension:\nconf\nextension TerminAttr-1.19.4-1.swix\ncopy installed-extensions boot-extensions\ndaemon TerminAttr\nshutdown\nno shutdown\n</code></pre> <p>Commands for verification</p> <ol> <li><code>show daemon TerminAttr</code></li> <li><code>show version detail | grep TerminAttr-core</code></li> <li><code>show agent TerminAttr logs | no</code></li> </ol>"},{"location":"info/","title":"This is the page where we will add info","text":""},{"location":"sample/","title":"Arista tips and notes","text":"<pre><code>ls -l intended/configs\ntotal 428\n-rw-rw-r-- 1 avd avd 15168 May 31 18:51 1-sw-arista720XP-42-a.cfg\n-rw-rw-r-- 1 avd avd 15168 May 31 18:52 1-sw-arista720XP-42-b.cfg\n-rw-rw-r-- 1 avd avd 14653 Jun  1 18:35 1-sw-arista720XP-42-c.cfg\n-rw-rw-r-- 1 avd avd 15168 May 31 18:52 1-sw-arista720XP-43-a.cfg\n</code></pre> <p>Phasellus posuere in sem ut cursus (1)</p> <p>Lorem ipsum dolor sit amet, (2) consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <ol> <li> I\u2019m an annotation!</li> <li> I\u2019m an annotation as well!   </li> </ol>"},{"location":"sample/#configure-router-id-globally","title":"Configure router-id globally","text":"<pre><code>router general\n   router-id ipv4 x.x.x.x\n   exit\n</code></pre>"},{"location":"sample/#ospf-best-practices","title":"OSPF best practices","text":"<pre><code>   log-adjacency-changes detail\n   distance ospf external 175\n   passive-interface default\n   auto-cost reference-bandwidth 100000\n   maximum-paths 4   \n</code></pre>"},{"location":"sample/#bgp-neighbor-practices","title":"BGP Neighbor practices","text":"<pre><code>      neighbor x.x.x.x remote-as &lt;neighbor AS&gt;\n      neighbor x.x.x.x password 7 &lt;hash&gt;\n      neighbor x.x.x.x description MY_BGP_PEER\n      neighbor x.x.x.x bfd\n      neighbor x.x.x.x update-source &lt;Source Interface&gt;\n      neighbor x.x.x.x route-map Peer_AS_OUT out\n      neighbor x.x.x.x route-map Peer_AS_IN in      \n</code></pre>"},{"location":"sample/#workflow-for-brining-idf-online","title":"Workflow for brining IDF online.","text":"<ol> <li>Build configs in AVD via build.yml playbook.</li> <li>ZTP configs to switch.</li> <li>Get switches online.</li> <li>Use build.yml playbook to push any changes to switches that have happened since they have been powered off.</li> <li>SCP certificate to switches in order to connect to CVP.</li> <li>Verify switch shows up in CVP. Make sure switch is \u201cprovisioned\u201d.</li> <li>Run cvp_deploy.yml to create container structure, move switch(es) to container and push tasks if there are any.</li> </ol>"},{"location":"sample/#sample-terminattr-config","title":"Sample TerminAttr config","text":"<pre><code>daemon TerminAttr\n   exec /usr/bin/TerminAttr -cvaddr=apiserver.arista.io:443 -cvauth=token-secure,/mnt/flash/cv-onboarding-token -cvvrf=default -disableaaa -smashexcludes=ale,flexCounter,hardware,kni,pulse,strata -ingestexclude=/Sysdb/cell/1/agent,/Sysdb/cell/2/agent -taillogs\n   no shutdown\n</code></pre>"},{"location":"sample/#mpls-core-with-mpls-evpn-vpn-ipv4-vpn-ipv6","title":"MPLS Core with MPLS EVPN, VPN-IPv4, VPN-IPv6","text":"Underlay Overlay Topology ISIS-SR iBGP Arbitrary Mesh or leaf-spine ISIS-SR + LDP iBGP Arbitrary Mesh or leaf-spine ISIS + LDP iBGP Arbitrary Mesh or leaf-spine OSPF + LDP iBGP Arbitrary Mesh or leaf-spine <p>Tip</p> <p>Some info that is useful</p>"},{"location":"sample/#known-limitations","title":"Known limitations","text":"<p>Warning</p> <p>Input data and \u201cstructured_configs\u201d will be in-place updated by various PyAVD functions. Make sure to deep copy the data first if modifications are not allowed.</p>"},{"location":"sample/#roadmap","title":"Roadmap","text":"<p>Note</p> <p>Subject to change. No commitments implied.</p> <ul> <li>Add examples</li> <li>Add more tests (current coverage is 85%)</li> <li>Add network state validation similar to <code>eos_validate_state</code>.</li> <li>Add CloudVision tag integrations</li> <li>Make PyAVD the source of AVD logic and use as a dependency for the <code>arista.avd</code> Ansible collection.</li> <li>Explore support for custom Jinja2 templates.    </li> </ul>"},{"location":"sample/#more-info","title":"More info","text":"<ul> <li>General - General community discussion.</li> <li>Ideas - Ideas for new functionality that still needs to be prepared for a formal feature request.</li> <li>Q&amp;A - Request help with installing or using AVD.</li> </ul>"},{"location":"sample/#final-info","title":"Final info","text":"<ul> <li> <p>Scopes:</p> <ul> <li><code>{{ role_name }}</code>: AVD role impacted by PR. Required for <code>Feat</code>, <code>Cut</code>, and <code>Fix</code> types</li> <li><code>plugins</code>: To use when AVD plugin is impacted by PR. Required for <code>Feat</code>, <code>Cut</code>, and <code>Fix</code> types</li> <li><code>requirements</code>: To use when using the <code>Bump</code> type and when any AVD requirement is updated</li> </ul> <p>Scopes</p> <p>The scope is optional and can be ignored safely if your PR covers an undefined scope.</p> </li> </ul> <p>Lorem ipsum dolor sit amet, (1) consectetur adipiscing elit.</p> <ol> <li> I\u2019m an annotation! I can contain <code>code</code>, formatted     text, images, \u2026 basically anything that can be expressed in Markdown.        </li> </ol> <p>Phasellus posuere in sem ut cursus (1)</p> <p>Lorem ipsum dolor sit amet, (2) consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <ol> <li> I\u2019m an annotation!</li> <li> I\u2019m an annotation as well!    </li> </ol> Tab 1Tab 2 <p>Lorem ipsum dolor sit amet, (1) consectetur adipiscing elit.</p> <ol> <li> I\u2019m an annotation!</li> </ol> <p>Phasellus posuere in sem ut cursus (1)</p> <ol> <li> I\u2019m an annotation as well!</li> </ol> <pre><code># Login Banner\nbanners:\n  motd: |\n    You shall not pass. Unless you are authorized. Then you shall pass.\n    EOF\n</code></pre> Yes, that \u201cEOF\u201d is important! <p>Ensure the entire code snippet above is copied; including the <code>EOF</code>. This must be present for the configuration to be considered valid</p> <p>The <code>sites/site_1/inventory.yml</code> file should now look like the example below:</p> sites/site_1/inventory.yml <pre><code>---\nSITE1:\n  children:\n    CVP:\n      hosts:\n        cvp:\n    SITE1_FABRIC:\n      children:\n        SITE1_SPINES:\n          hosts:\n            s1-spine1:\n            s1-spine2:\n        SITE1_LEAFS:\n          hosts:\n            s1-leaf1:\n            s1-leaf2:\n            s1-leaf3:\n            s1-leaf4:\n            s1-leaf5:\n            s1-leaf6:\n    SITE1_FABRIC_SERVICES:\n      children:\n        SITE1_SPINES:\n        SITE1_LEAFS:\n    SITE1_FABRIC_PORTS:\n      children:\n        SITE1_SPINES:\n        SITE1_LEAFS:\n</code></pre> <p>Using the Programmability IDE, update the file ci-workshops-fundamentals/avd/vlans.yml with VLAN 40 information.</p>"},{"location":"sample/#start-over-with-clean-slate","title":"Start over with clean slate","text":"<p>Previously we downloaded and created a repository called <code>samplefiles</code>. Reset this repository to a directory by removing the hidden sub-directory <code>.git</code>.  This will remove any version control settings for the repository.</p> <pre><code>cd /home/coder/project/labfiles/samplefiles\nrm -rf .git   \n</code></pre> Cows? <p>Yes! First, install cowsay: <code>sudo apt-get update &amp;&amp; sudo apt-get install cowsay -y</code> Next, in the <code>ansible.cfg</code> file, set it to what should be the only acceptable setting, <code>nocows = False</code>. This feature is udderly ridiculous, and as much as I\u2019d love to milk it for all the Dad jokes possible, I don\u2019t want to start any beef by delaying the workshop\u2026Moo.</p> <p>Below is an example of the <code>ansible.cfg</code> located in our fork of the Workshops repo:</p> Example Ansible Configuration File (~/project/labfiles/ci-workshops-fundamentals/ansible/ansible.cfg) <pre><code>[defaults]\n\n# Disable host key checking by the underlying tools Ansible uses to connect to target hosts\nhost_key_checking = False\n\n# Location of inventory file containing target hosts\ninventory = ./inventory/inventory.yml\n\n# Only gather Ansible facts if explicity directed to in a given play\ngathering = explicit\n\n# Disable the creation of .retry files if a playbook fails\nretry_files_enabled = False\n\n# Path(s) to search for installed Ansible Galaxy Collections\ncollections_paths = ~/.ansible/collections\n\n# Enable additional Jinja2 Extensions (https://jinja.palletsprojects.com/en/3.1.x/extensions/)\njinja2_extensions =  jinja2.ext.loopcontrols,jinja2.ext.do,jinja2.ext.i18n\n\n# Enable the YAML callback plugin, providing much easier to read terminal output. (https://docs.ansible.com/ansible/latest/plugins/callback.html#callback-plugins)\nstdout_callback = yaml\n\n# Permit the use of callback plugins when running ad-hoc commands\nbin_ansible_callbacks = True\n\n# List of enabled callbacks. Many callbacks shipped with Ansible are not enabled by default\ncallback_whitelist = profile_roles, profile_tasks, timer\n\n# Maximum number of forks that Ansible will use to execute tasks on target hosts\nforks = 15\n\n# Disable cowsay (Why?)\nnocows = True\n\n[paramiko_connection]\n# Automatically add the keys of target hosts to known hosts\nhost_key_auto_add = True\n\n[persistent_connection]\n# Set the amount of time, in seconds, to wait for response from remote device before timing out persistent connection.\ncommand_timeout = 60\n\n# Set the amount of time, in seconds, that a persistent connection will remain idle before it is destroyed.\nconnect_timeout = 60\n</code></pre> <pre><code>ansible-galaxy collection list\n</code></pre> Info <p>The <code>ansible-galaxy collection list</code> command is supported in Ansible 2.10+</p> <p>This will yield output similar to below:</p> Ansible Galaxy Collection List <pre><code># /home/coder/.ansible/collections/ansible_collections\nCollection        Version\n----------------- -------\nansible.netcommon 4.1.0\nansible.posix     1.4.0\nansible.utils     2.8.0\narista.avd        3.6.0\narista.cvp        3.4.0\narista.eos        6.0.0\ncommunity.general 6.2.0\n</code></pre> Tip <p> In VS Code, you can toggle comments on/off by selecting the text and pressing windows Ctrl + / or mac Cmd + /.</p> Tip <p>This will show the differences between the current device configuration and the configuration before we did our <code>make deploy</code> command.                </p> Tip <p>Daisy chaining \u201cMakesies\u201d is a great way to run a series of tasks with a single CLI command  </p> <p>Phasellus posuere in sem ut cursus (1)</p> <p>Lorem ipsum dolor sit amet, (2) consectetur adipiscing elit. Nulla et euismod nulla. Curabitur feugiat, tortor non consequat finibus, justo purus auctor massa, nec semper lorem quam in massa.</p> <ol> <li> I\u2019m an annotation!</li> <li> I\u2019m an annotation as well!    </li> </ol> Tab 1Tab 2 <p>Lorem ipsum dolor sit amet, (1) consectetur adipiscing elit.</p> <ol> <li> I\u2019m an annotation!</li> </ol> <p>Phasellus posuere in sem ut cursus (1)</p> <ol> <li> I\u2019m an annotation as well!</li> </ol> <pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre>"},{"location":"sample/#adding-keyboard-keys","title":"Adding keyboard keys","text":"<p>Ctrl+Alt+Del</p> bubble_sort.py<pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> <pre><code>theme:\n  features:\n    - content.code.annotate # (1)\n</code></pre> <ol> <li> I\u2019m a code annotation! I can contain <code>code</code>, formatted     text, images, \u2026 basically anything that can be written in Markdown.</li> </ol>"}]}